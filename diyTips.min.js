!function(t,i){var s=function(t){t=t||{},this.maskLayer=t.maskLayer||null,this.popUpLayer=t.popUpLayer||null,this.defineBtn=t.defineBtn||null,this.cancelBtn=t.cancelBtn||null,this.closeBtn=t.closeBtn||null,this.defineFn=t.define||function(){},this.cancelFn=t.cancel||function(){},this.closeFn=t.close||function(){},this.position=t.position||"",this._init()};s.prototype={_init:function(){var t=this;this.defineBtn&&this._on(this.defineBtn,"click",function(){t._define()}),this.cancelBtn&&this._on(this.cancelBtn,"click",function(){t._cancel()}),this.closeBtn&&this._on(this.closeBtn,"click",function(){t._close()}),("fixed"===this.position||"absolute"===this.position)&&this._setup()},_setup:function(){this.oldStyle=this.popUpLayer.style.cssText,"hidden"!==this._css("visibility")&&(this.popUpLayer.style.visibility="hidden"),"static"===this._css("position")&&(this.popUpLayer.style.position="absolute"),"none"===this._css("display")&&(this.popUpLayer.style.display="block"),this.width=this.popUpLayer.offsetWidth,this.height=this.popUpLayer.offsetHeight,this.popUpLayer.style.cssText=this.oldStyle,this._get(),"fixed"===this.position?(this.maskLayer.style.position="fixed",this.maskLayer.style.height=Math.max(this.pH,this.wH)+"px","fixed"!==this._css("position")&&(this.popUpLayer.style.position="fixed"),"50%"!==this._css("left")&&(this.popUpLayer.style.left="50%"),"50%"!==this._css("top")&&(this.popUpLayer.style.top="50%"),this._css("marginLeft")!==-this.width/2+"px"&&(this.popUpLayer.style.marginLeft=-this.width/2+"px"),this._css("marginTop")!==-this.height/2+"px"&&(this.popUpLayer.style.marginTop=-this.height/2+"px")):"absolute"===this.position&&(this.maskLayer.style.position="absolute",this.maskLayer.style.height=Math.max(this.pH,this.wH)+"px","absolute"!==this._css("position")&&(this.popUpLayer.style.position="absolute"),"0"!==parseInt(this._css("marginLeft"))&&(this.popUpLayer.style.marginLeft="0px"),"0"!==parseInt(this._css("marginTop"))&&(this.popUpLayer.style.marginTop="0px"),this.popUpLayer.style.left=(this.wW-this.width)/2+"px",this.popUpLayer.style.top=this.sY+(this.wH-this.height)/2+"px")},_get:function(){var t=i,s=t.documentElement,e=t.body;this.pH=s.scrollHeight||e.scrollHeight,this.sY=s.scrollTop||e.scrollTop,this.wW=s.clientWidth,this.wH=s.clientHeight,"CSS1Compat"!=i.compatMode&&(this.pH=e.scrollHeight,this.sY=e.scrollTop,this.wW=e.clientWidth,this.wH=e.clientHeight)},_set:function(){this._get(),"absolute"===this.position&&(this.popUpLayer.style.left=(this.wW-this.width)/2+"px",this.popUpLayer.style.top=this.sY+(this.wH-this.height)/2+"px")},_define:function(){var t=this.defineFn();t!==!1&&this.hide()},_cancel:function(){this.hide(),this.cancelFn()},_close:function(t){this.hide(),this.closeFn()},_css:function(t){return this.popUpLayer.currentStyle?this.popUpLayer.currentStyle[t]:getComputedStyle(this.popUpLayer,null)[t]},_on:function(t,i,s){t.addEventListener?t.addEventListener(i,s,!1):t.attachEvent?t.attachEvent("on"+i,s):t["on"+i]=s},show:function(){this.maskLayer.style.display="block",this.popUpLayer.style.display="block","absolute"===this.position&&this._set(),this.popUpLayer.focus()},hide:function(){this.maskLayer.style.display="none",this.popUpLayer.style.display="none",this.popUpLayer.blur()}},"function"==typeof define&&define.amd?define("diyTips",[],function(){return s}):t.diyTips=s}(window,document);